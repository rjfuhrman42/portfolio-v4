---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  name: string;
  tags: string[];
  description: string;
  thumbnail?: {
    imagePath: string;
    altText: string;
  };
  projectUrl?: string;
  codeUrl?: string;
}

const { name, tags, description, thumbnail, projectUrl, codeUrl } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
  "@assets/images/*.{jpeg,jpg,png,gif}"
);
---

<div class="project-card">
  <Image src={images[thumbnail.imagePath]()} alt={thumbnail.altText} />
  <h3 class="project-name">{name}</h3>

  <ul class="tech-tags">
    {
      tags.map((tag) => {
        return <li>{tag}</li>;
      })
    }
  </ul>
  <p>
    {description}
  </p>
  <div class="button-container">
    <a href={projectUrl}>VIEW PROJECT</a>
    <a href={codeUrl}>VIEW ON GITHUB</a>
  </div>
</div>

<style>
  .project-card {
    display: flex;
    flex-direction: column;
    gap: 1.5em;
    max-width: 425px;
    border-radius: 0.175rem;
    border: 1px solid var(--deep-blue);
    padding: 1em;
  }

  :global(.dark) .project-card {
    border: 1px solid var(--nice-beige);
  }

  .project-name {
    font-size: 2rem;
  }

  .tech-tags {
    display: flex;
    flex-wrap: wrap;
    list-style-type: none;
    gap: 10px;
    text-transform: uppercase;
    font-family: var(--mono-font);
  }

  .tech-tags > li {
    padding: 2.5px 10px;
    background-color: var(--deep-blue);
    color: var(--nice-beige);
    border-radius: 0.175rem;
  }

  :global(.dark) .tech-tags > li {
    background-color: var(--nice-beige);
    color: var(--deep-blue);
  }
</style>
